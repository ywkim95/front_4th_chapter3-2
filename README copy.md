# front_3rd_chapter3-2

## 약간의 시나리오

- 기본과제에서의 생성은 eventForm을 하나 받아서 repeat의 값을 참조하여 여러 개의 eventForm을 생성하여 api에 담아 보낸다.
- 기본과제에서의 수정은 단일 이벤트 수정으로 (해당 일정이 반복이 있는지 체크하여) 반복일정에서 제외하고 단일 일정으로 변경하고 수정한 event를 api에 담아 보낸다.
- 기본과제에서의 삭제는 단일 이벤트 삭제로 반복일정이 있든 말든 상관없이 해당 이벤트 하나만 삭제한다.

RAW한 내용 정리

1. **(필수) 반복 유형 선택**

- 일정 생성 또는 수정 시 반복 유형을 선택할 수 있다.
- 반복 유형은 다음과 같다: 매일, 매주, 매월, 매년 - 만약, 윤년 29일에 또는 31일에 매월 또는 매년 반복일정을 설정한다면 어떻게 처리할까요? 다른 서비스를 참고해보시고 자유롭게 작성해보세요.
  해당 값은 그러면 UI에서 표기를 하는건가? 아니면 그냥 계산 값을 반환하는건가?
  아니면 그냥 수정만 되도록 처리하면 되나? 그러면 일단 수정만 되도록 처리하자.

```
날짜를 1월 20일을 설정하고 반복 유형을 매일로 설정하면 1월 21일부터 1월 31일까지의 모든 날짜가 반환된다.
날짜를 1월 20일을 설정하고 반복 유형을 매주로 설정하면 1월 20일과 1월 27일이 반환된다.
평년 기준 2023년 1월 31일 날짜에 매월 반복을 설정하면 2월은 28일을 반환한다.
윤년 기준 2024년 1월 31일 날짜에 매월 반복을 설정하면 2월은 29일을 반환한다.
평년 기준 2023년 1월 31일 날짜에 매월 반복을 설정하면 4월은 30일을 반환한다.
윤년 2월 29일을 설정하고, 매월을 선택한 경우 3월은 29일을 반환한다.
윤년 2월 29일을 설정하고, 매년을 선택한 경우 평년 2월은 28일을 반환한다.
```

- 반복 간격 설정

```
// dateUtils.ts
매일을 선택하면 "일"가 반환된다.
매주를 선택하면 "주"가 반환된다.
매월을 선택하면 "개월"가 반환된다.
매년을 선택하면 "년"가 반환된다.
// EventCard.tsx
매일을 선택하고 2를 입력하면 "2일마다"가 반환된다.
매주를 선택하고 3을 입력하면 "3주마다"가 반환된다.
매월을 선택하고 6을 입력하면 "6개월마다"가 반환된다.
매년을 선택하고 2를 입력하면 "2년마다"가 반환된다.
```

- 반복 일정 표시

```
// CalendarEvent.tsx
반복일정인 경우 반복일정 UI가 나타난다. -> 디자인은 추후 결정(그냥 파란색하든지..)
반복일정이 아닌 경우 기본 UI가 나타난다.
// MonthView.tsx
월간뷰, 2024-10-01, 반복 유형이 매일, 반복 간격이 3, 반복 종료일자가 2024-10-31일인 경우 반복 일정이 11개 표기되어야 한다.
월간뷰, 2024-10-01, 반복 유형이 매주, 반복 간격이 1, 반복 종료일자가 2024-10-31일인 경우 반복 일정이 5개 표기되어야 한다.
// WeekView.tsx
주간뷰, 2024-10-01, 반복 유형이 매일, 반복 간격이 2, 반복 종료일자가 2024-10-31일인 경우 반복 일정이 3개 표기되어야 한다.
주간뷰, 2024-10-09, 반복 유형이 매일, 반복 간격이 1, 반복 종료일자가 2024-10-11일인 경우 반복 일정이 3개 표기되어야 한다.
```

- 반복 종료

```
// 이건 새로운 걸 만들어야한다.
라디오 또는 드롭다운을 통하여 특정 횟수 또는 특정 날짜에 종료되도록 설정한다. 기본 값은 날짜 선택이고, 기본 값은 null로 한다. 날짜가 null이 입력되면 종료 없음으로 지정한다. 또한 특정 횟수로 지정하는 경우 0을 입력하면 종료 없음으로 지정한다. 특정 횟수를 입력하면 오늘을 기준으로 반복 일정을 계산한다.
```

- 반복 일정 단일 수정

```
선택한 날짜의 반복 일정을 수정한 경우 해당 일정은 일반 일정으로 변경된다.
// CalendarEvent.tsx
반복 일정이 해제된 경우 반복 일정 UI를 기본 일정 UI로 변경한다.
// useEventOperation.tsx
반복 일정이 해제된 경우 기존 반복 일정과 다른 ID를 가지고 있다.
```

- 반복 일정 단일 삭제

```
반복 일정을 삭제하면 모두가 사라지는 것이 아닌 선택한 날짜의 반복 일정만 사라진다.
// MonthView.tsx
2개의 반복 일정 중 1개의 반복 일정을 삭제하는 경우 1개의 반복 일정만 나타난다.
// useEventOperation.tsx
2개의 반복 일정 중 1개의 반복 일정을 삭제하는 경우 1개의 반복 일정만 존재한다.
```
